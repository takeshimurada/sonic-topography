<!DOCTYPE html>
<html>
<head>
    <title>List Available Gemini Models</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #1a1a1a; color: #fff; }
        .success { color: #4ade80; }
        .error { color: #f87171; }
        pre { background: #000; padding: 10px; overflow-x: auto; margin: 10px 0; }
        button { padding: 10px 20px; margin: 5px; cursor: pointer; background: #4ade80; border: none; border-radius: 5px; font-weight: bold; }
    </style>
</head>
<body>
    <h1>ğŸ” ì‚¬ìš© ê°€ëŠ¥í•œ Gemini ëª¨ë¸ í™•ì¸</h1>
    
    <p>API Key: <input type="text" id="apiKey" value="AIzaSyBRwqn37C8UleyesW3OxekM57KN0wonF30" style="width: 400px; padding: 5px;" /></p>
    
    <button onclick="listModels()">ëª¨ë¸ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°</button>
    
    <div id="result"></div>

    <script type="module">
        import { GoogleGenerativeAI } from 'https://esm.run/@google/generative-ai';
        
        window.listModels = async function() {
            const apiKey = document.getElementById('apiKey').value;
            const resultDiv = document.getElementById('result');
            
            if (!apiKey) {
                resultDiv.innerHTML = '<p class="error">âŒ API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”!</p>';
                return;
            }
            
            resultDiv.innerHTML = '<p>ëª¨ë¸ ëª©ë¡ì„ ê°€ì ¸ì˜¤ëŠ” ì¤‘...</p>';
            
            try {
                const genAI = new GoogleGenerativeAI(apiKey);
                
                // List all models
                const url = `https://generativelanguage.googleapis.com/v1beta/models?key=${apiKey}`;
                const response = await fetch(url);
                const data = await response.json();
                
                if (data.models) {
                    let html = '<p class="success">âœ… ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë¸ ëª©ë¡:</p><pre>';
                    
                    data.models.forEach(model => {
                        html += `\nëª¨ë¸: ${model.name}`;
                        html += `\n  - displayName: ${model.displayName}`;
                        html += `\n  - version: ${model.version || 'N/A'}`;
                        html += `\n  - supportedGenerationMethods: ${model.supportedGenerationMethods?.join(', ')}`;
                        html += `\n`;
                    });
                    
                    html += '</pre>';
                    
                    // generateContentë¥¼ ì§€ì›í•˜ëŠ” ëª¨ë¸ë§Œ í•„í„°ë§
                    const validModels = data.models.filter(m => 
                        m.supportedGenerationMethods?.includes('generateContent')
                    );
                    
                    html += '<h3 class="success">âœ… generateContentë¥¼ ì§€ì›í•˜ëŠ” ëª¨ë¸ (ì´ ì¤‘ í•˜ë‚˜ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”!):</h3><ul>';
                    validModels.forEach(m => {
                        const shortName = m.name.replace('models/', '');
                        html += `<li style="color: #4ade80; font-size: 16px; margin: 5px 0;"><strong>${shortName}</strong> (${m.displayName})</li>`;
                    });
                    html += '</ul>';
                    
                    resultDiv.innerHTML = html;
                } else {
                    resultDiv.innerHTML = `<p class="error">âŒ ì—ëŸ¬: ${JSON.stringify(data)}</p>`;
                }
            } catch (error) {
                resultDiv.innerHTML = `
                    <p class="error">âŒ ì—ëŸ¬ ë°œìƒ:</p>
                    <pre>${error.message}</pre>
                `;
            }
        }
        
        // ìë™ ì‹¤í–‰
        window.onload = () => {
            listModels();
        };
    </script>
</body>
</html>
